<mujoco model="pupper_v3">
  <asset>
    <texture type="skybox" builtin="gradient" rgb1=".3 .5 .7" rgb2="0 0 0" width="512" height="512" />
    <texture name="grid" type="2d" builtin="checker" width="512" height="512" rgb1=".2 .4 .6" rgb2=".4 .6 .8" />
    <material name="grid" texture="grid" texrepeat="1 1" texuniform="true" reflectance="0" />
  </asset>

  <option iterations="1" ls_iterations="5" cone="pyramidal" impratio="10" timestep="0.004">
    <flag eulerdamp="disable"/>
  </option>

  <compiler angle="radian" meshdir="assets" autolimits="true" />

  <sensor>
    <gyro name="body_gyro" site="body_imu_site" />
    <accelerometer name="body_acc" site="body_imu_site" />
    <framequat name="body_quat" objtype="site" objname="body_imu_site" />
    <framequat objtype="site" objname="body_imu_site" name="orientation" />
    <framepos objtype="site" objname="body_imu_site" name="global_position" />
    <framelinvel objtype="site" objname="body_imu_site" name="global_linvel" />
    <frameangvel objtype="site" objname="body_imu_site" name="global_angvel" />
  </sensor>

  <custom>
    <numeric data="5" name="max_contact_points"/>
    <numeric data="4" name="max_geom_pairs"/>
  </custom>

  <default>
    <general forcerange="-3 3" forcelimited="true" biastype="affine" gainprm="5.0 0 0" biasprm="0 -5.0 -0.1" />
    <geom condim="3" contype="0" conaffinity="0"/>
    <joint armature="0.0016" type="hinge" damping="0.01" limited="true" />
    <default class="visual">
      <geom type="mesh" contype="0" conaffinity="0" group="1" density="0" material="ABS_(DodgerBlue)"/>
    </default>
    <default class="collision">
      <geom group="3" contype="0" conaffinity="1" solimp="0.015 1 0.031" friction="0.8 0.02 0.01"/>
    </default>
  </default>

  <asset>
    <material name="ABS_(LightMagenta)"   specular="0.5" shininess="0.5" rgba="1.000000 0.521569 1.000000 1.0"/>
    <material name="ABS_(DodgerBlue)"     specular="0.5" shininess="0.5" rgba="0.000000 0.588235 1.000000 1.0"/>
    <material name="Steel_Satin"          specular="0.2" shininess="0.2" rgba="0.627451 0.627451 0.627451 1.0"/>
    <material name="Nylon_6-6_(White)"    specular="0.9" shininess="0.9" rgba="0.972549 0.968627 0.929412 1.0"/>
    <material name="Aluminum_(Charcoal)"  specular="0.4" shininess="0.4" rgba="0.286275 0.286275 0.286275 1.0"/>  <!-- Anodized Aluminum (Rough)-->
    <material name="Aluminum_Satin"       specular="0.6" shininess="0.6" rgba="0.960784 0.960784 0.964706 1.0"/>
    <material name="Polyurethane"         specular="0.1" shininess="0.1" rgba="0.200000 0.200000 0.200000 1.0"/>

    <mesh name="BodyV4v70.001" file="BodyV4v70.001.stl" />
    <mesh name="LegAssemblyForFlangedv26.001" file="LegAssemblyForFlangedv26.001.stl" />
    <mesh name="LegAssemblyForFlangedv26.002" file="LegAssemblyForFlangedv26.002.stl" />
    <mesh name="LegAssemblyForFlangedv26.003" file="LegAssemblyForFlangedv26.003.stl" />
    <mesh name="LegAssemblyForFlangedv26.010" file="LegAssemblyForFlangedv26.001.stl" scale="1 -1 1" />
    <mesh name="LegAssemblyForFlangedv26.011" file="LegAssemblyForFlangedv26.002.stl" scale="1 1 -1" />
    <mesh name="LegAssemblyForFlangedv26.012" file="LegAssemblyForFlangedv26.003.stl" scale="1 1 -1" />
</asset>

  <worldbody>
    <geom name="floor" size="0 0 .05" type="plane" material="grid" condim="3" contype="1" conaffinity="1"/>
    <geom name="floor_visual" size="0 0 .05" pos="0 0 -0.001" type="plane" material="grid" condim="3" contype="0" conaffinity="0" group="1" />
    <light name="spotlight" mode="targetbodycom" target="base_link" diffuse="0.9 0.9 0.9" specular="0.3 0.3 0.3" pos="0 -4 4" cutoff="100" castshadow="false" />
    <camera name="tracking_cam" mode="targetbody" target="base_link" pos="0.5 -0.5 0.5" />
    
    <body name="base_link" pos="0 0 0.13" gravcomp="0">
      <site name="body_imu_site" pos="0.09 0 0.032" />
      <inertial pos="0.025 0 0.015" quat="0 0.677807 0 0.73524" mass="1.506" diaginertia="0.00854071 0.0085 0.00235929" />
      <joint name="world_to_body" type="free" />
      <geom class="collision" size="0.04507 0.06379 0.129715" pos="0.02146 0 0.03345" quat="0.5 -0.5 -0.5 0.5" type="box" />
      <geom quat="0.5 -0.5 -0.5 0.5" class="visual" mesh="BodyV4v70.001" material="ABS_(LightMagenta)" />


      <body name="leg_front_r_1" pos="0.075 -0.0835 0" quat="0.707107 0.707107 0 0" gravcomp="0">
        <inertial pos="0 0 0" mass="0.18" diaginertia="7.4e-05 5.8e-05 4.8e-05" />
        <joint name="leg_front_r_1" pos="0 0 0" axis="0 0 1" range="-1.22 2.51" />
        <geom pos="0 0 -0.028" quat="0 0 0 1" class="visual" mesh="LegAssemblyForFlangedv26.001" />
        <body name="leg_front_r_2" pos="0 0 0" quat="0.707107 0 -0.707107 0" gravcomp="0">
          <inertial pos="0 -0.0334 0.05419" quat="0.903877 0.427791 0 0" mass="0.186" diaginertia="0.000113 9.74951e-05 4.65049e-05" />
          <joint name="leg_front_r_2" pos="0 0 0" axis="0 0 1" range="-0.42 3.14" />
          <geom class="collision" size="0.025" pos="0 -0.0494 0.0685" quat="0.707107 0 0.707107 0" type="sphere" />
          <geom pos="-0.028 0 0" quat="0 0.707107 0 0.707107" class="visual" mesh="LegAssemblyForFlangedv26.002" />
          <body name="leg_front_r_3" pos="0 -0.0494 0.0685" quat="0.707107 0 0.707107 0" gravcomp="0">
            <inertial pos="0.03866 -0.03585 0.01833" quat="0.270598 0.653281 -0.270598 0.653281" mass="0.05" diaginertia="7.7e-05 7.55e-05 5.5e-06" />
            <joint name="leg_front_r_3" pos="0 0 0" axis="0 0 1" range="-2.79 0.71" />
            <geom class="collision" size="0.01995" pos="0.06231 -0.06216 0.018" quat="0 0 0 1" />
            <geom pos="0.0685 0.0494 -0.028" quat="0 0 0 1" class="visual" mesh="LegAssemblyForFlangedv26.003" />
            <site name="leg_front_r_3_foot_site" pos="0.06231 -0.06216 0.018" />
          </body>
        </body>
      </body>

      <body name="leg_front_l_1" pos="0.075 0.0835 0" quat="0.707107 -0.707107 0 0" gravcomp="0">
        <inertial pos="0 0 0" mass="0.18" diaginertia="7.4e-05 5.8e-05 4.8e-05" />
        <joint name="leg_front_l_1" pos="0 0 0" axis="0 0 1" range="-2.51 1.22" />
        <geom pos="0 0 -0.028" quat="0 0 0 1" class="visual" mesh="LegAssemblyForFlangedv26.010" />
        <body name="leg_front_l_2" pos="0 0 0" quat="0 0.707107 0 -0.707107" gravcomp="0">
          <inertial pos="0 -0.0334 0.05419" quat="0.903877 0.427791 0 0" mass="0.186" diaginertia="0.000113 9.74951e-05 4.65049e-05" />
          <joint name="leg_front_l_2" pos="0 0 0" axis="0 0 1" range="-3.14 0.42" />
          <geom class="collision" size="0.025" pos="0 -0.0494 0.0685" quat="0.707107 0 0.707107 0" type="sphere" />
          <geom pos="0.028 0 0" quat="0 0.707107 0 0.707107" class="visual" mesh="LegAssemblyForFlangedv26.011" />
          <body name="leg_front_l_3" pos="0 -0.0494 0.0685" quat="0 -0.707107 0 0.707107" gravcomp="0">
            <inertial pos="0.03866 0.03585 0.01833" quat="0.653281 0.270598 -0.653281 0.270598" mass="0.05" diaginertia="7.7e-05 7.55e-05 5.5e-06" />
            <joint name="leg_front_l_3" pos="0 0 0" axis="0 0 1" range="-0.71 2.79" />
            <geom class="collision" size="0.01995" pos="0.06231 0.06216 0.018" quat="0 0 0 1" />
            <geom pos="0.0685 -0.0494 -0.028" quat="0 0 1 0" class="visual" mesh="LegAssemblyForFlangedv26.012" />
            <site name="leg_front_l_3_foot_site" pos="0.06231 0.06216 0.018" />
          </body>
        </body>
      </body>

      <body name="leg_back_r_1" pos="-0.075 -0.0725 0" quat="0.707107 0.707107 0 0" gravcomp="0">
        <inertial pos="0 0 0" mass="0.18" diaginertia="7.4e-05 5.8e-05 4.8e-05" />
        <joint name="leg_back_r_1" pos="0 0 0" axis="0 0 1" range="-1.22 2.51" />
        <geom pos="0 0 -0.028" quat="0 0 0 1" class="visual" mesh="LegAssemblyForFlangedv26.001" />
        <body name="leg_back_r_2" pos="0 0 0" quat="0.707107 0 -0.707107 0" gravcomp="0">
          <inertial pos="0 -0.0334 0.05419" quat="0.903877 0.427791 0 0" mass="0.186" diaginertia="0.000113 9.74951e-05 4.65049e-05" />
          <joint name="leg_back_r_2" pos="0 0 0" axis="0 0 1" range="-0.42 3.14" />
          <geom class="collision" size="0.025" pos="0 -0.0494 0.0685" quat="0.707107 0 0.707107 0" type="sphere" />
          <geom pos="-0.028 0 0" quat="0 0.707107 0 0.707107" class="visual" mesh="LegAssemblyForFlangedv26.002" />
          <body name="leg_back_r_3" pos="0 -0.0494 0.0685" quat="0.707107 0 0.707107 0" gravcomp="0">
            <inertial pos="0.03866 -0.03585 0.01833" quat="0.270598 0.653281 -0.270598 0.653281" mass="0.05" diaginertia="7.7e-05 7.55e-05 5.5e-06" />
            <joint name="leg_back_r_3" pos="0 0 0" axis="0 0 1" range="-2.79 0.71" />
            <geom class="collision" size="0.01995" pos="0.06231 -0.06216 0.018" quat="0 0 0 1" />
            <geom pos="0.0685 0.0494 -0.028" quat="0 0 0 1" class="visual" mesh="LegAssemblyForFlangedv26.003" />
            <site name="leg_back_r_3_foot_site" pos="0.06231 -0.06216 0.018" />
          </body>
        </body>
      </body>

      <body name="leg_back_l_1" pos="-0.075 0.0725 0" quat="0.707107 -0.707107 0 0" gravcomp="0">
        <inertial pos="0 0 0" mass="0.18" diaginertia="7.4e-05 5.8e-05 4.8e-05" />
        <joint name="leg_back_l_1" pos="0 0 0" axis="0 0 1" range="-2.51 1.22" />
        <geom pos="0 0 -0.028" quat="0 0 0 1" class="visual" mesh="LegAssemblyForFlangedv26.010" />
        <body name="leg_back_l_2" pos="0 0 0" quat="0 0.707107 0 -0.707107" gravcomp="0">
          <inertial pos="0 -0.0334 0.05419" quat="0.903877 0.427791 0 0" mass="0.186" diaginertia="0.000113 9.74951e-05 4.65049e-05" />
          <joint name="leg_back_l_2" pos="0 0 0" axis="0 0 1" range="-3.14 0.42" />
          <geom class="collision" size="0.025" pos="0 -0.0494 0.0685" quat="0.707107 0 0.707107 0" type="sphere" />
          <geom pos="0.028 0 0" quat="0 0.707107 0 0.707107" class="visual" mesh="LegAssemblyForFlangedv26.011" />
          <body name="leg_back_l_3" pos="0 -0.0494 0.0685" quat="0 -0.707107 0 0.707107" gravcomp="0">
            <inertial pos="0.03866 0.03585 0.01833" quat="0.653281 0.270598 -0.653281 0.270598" mass="0.05" diaginertia="7.7e-05 7.55e-05 5.5e-06" />
            <joint name="leg_back_l_3" pos="0 0 0" axis="0 0 1" range="-0.71 2.79" />
            <geom class="collision" size="0.01995" pos="0.06231 0.06216 0.018" quat="0 0 0 1" />
            <geom pos="0.0685 -0.0494 -0.028" quat="0 0 1 0" class="visual" mesh="LegAssemblyForFlangedv26.012" />
            <site name="leg_back_l_3_foot_site" pos="0.06231 0.06216 0.018" />
          </body>
        </body>
      </body>

    </body>
  </worldbody>

  <actuator>
    <general joint="leg_front_r_1" name="leg_front_r_1" />
    <general joint="leg_front_r_2" name="leg_front_r_2" />
    <general joint="leg_front_r_3" name="leg_front_r_3" />
    <general joint="leg_front_l_1" name="leg_front_l_1" />
    <general joint="leg_front_l_2" name="leg_front_l_2" />
    <general joint="leg_front_l_3" name="leg_front_l_3" />
    <general joint="leg_back_r_1" name="leg_back_r_1" />
    <general joint="leg_back_r_2" name="leg_back_r_2" />
    <general joint="leg_back_r_3" name="leg_back_r_3" />
    <general joint="leg_back_l_1" name="leg_back_l_1" />
    <general joint="leg_back_l_2" name="leg_back_l_2" />
    <general joint="leg_back_l_3" name="leg_back_l_3" />
  </actuator>

  <keyframe>
    <key name="home"
      qpos="0 0 0.13             1 0 0 0             0.0 0.0 0.0             0.0 0.0 0.0             0.0 0.0 0.0             0.0 0.0 0.0"
      ctrl="0.0 0.0 0.0             0.0 0.0 0.0             0.0 0.0 0.0             0.0 0.0 0.0" />
  </keyframe>

</mujoco>